---
title: 图片分析
description: 
published: true
date: 2022-07-18T06:37:09.564Z
tags: 
editor: markdown
dateCreated: 2022-06-04T01:31:00.162Z
---

图像文件贯彻计算机网络的每个地方，因此能够很好地包含黑客文化，因此 CTF 竞赛中经常会出现各种图像文件。

图像文件有多种复杂的格式，可以用于各种涉及到元数据、信息丢失和无损压缩、校验、隐写或可视化数据编码的分析解密，都是 Misc 中的一个很重要的出题方向。涉及到的知识点很多（包括基本的文件格式，常见的隐写手法及隐写用的软件），有的地方也需要去进行深入的理解。

# 前置技能

- 了解常见的编码，能够对文件中出现的一些编码进行解码，并且对一些特殊的编码（Base64、十六进制、二进制等）有一定的敏感度，对其进行转换并得到最终的 flag。
- 能够利用脚本语言（Python 等）去操作二进制数据，并熟悉一些特殊第三方库的使用，便于对图像数据进行特殊操作，例如中心旋转， 像素数据提取，或者`fft变化`。
- 熟知常见文件的文件格式，尤其是各类 文件头、协议、结构等，方便对文件类型进行准确识别。
- 灵活运用常见的工具，对最地位隐写等常见出题形式有快速的检测方案。
- 对图片文件的十六进制数据结构有一定的了解。

# 元数据（Metadata）

> 元数据（Metadata），又称中介数据、中继数据，为描述数据的数据（Data about data），主要是描述数据属性（property）的信息，用来支持如指示存储位置、历史数据、资源查找、文件记录等功能。

元数据中隐藏信息在比赛中是最基本的一种手法，通常用来隐藏一些关键的 Hint 信息或者是一些重要的如 password 等信息。

这类元数据你可以 `右键 --> 属性` 去查看, 也可以通过 `strings` 命令去查看，一般来说，一些隐藏的信息（奇怪的字符串）常常出现在Exif信息中或者尾部。

# [工具介绍](/stego/image-analysis/tools)

虽然能自己写脚本是最好的，但是在合适的时候合理的应用相关工具，必定是事半功倍的。

# [图像碎片](/stego/image-analysis/fragments)

在一些特殊情况下，可能会发现图片被划分成碎片，并且碎片之间发生错位，那么就需要寻找工具来寻找合适的方案来还原图像，或者提取对应的数据。

# 文件附加类

文件附加类，泛指在正常图片中插入额外的文件数据，使得图片可以正常打开，但是用额外手段可以提取出文件数据。最为常见的就是直接将额外文件数据附加在图像文件的末尾。更有甚者，可以做到将文本数据（例如代码）直接转换为图像。



# 颜色通道

众所周知，传统颜色方案分为两种，分别为RGB和CMYK，而在电子平台上更为常见的则是RGB方案。在RGB方案中，每个颜色中都有不同的通道（如Red-plane1），而通道0的数据不会显示于整体图像上。并且在RGB方案中，还有Alpha通道，这也额外提供了隐藏额外数据的机会。







# [数字水印](/stego/image-analysis/waler_mark)

随着版权意识的提高，以及反盗版追踪日益提高的需求，数字水印的概念也进入了CTF领域。数字水印具有难追踪，方法多样的特点，也就使得面对可能存在数字水印的图像时，需要灵活、多样地寻找合适的方法提取水印数据。
